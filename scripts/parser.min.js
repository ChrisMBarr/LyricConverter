/*!
 * LICENSE:
 * CC BY-NC-SA 3.0
 * This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US
 */var parser=function(){function t(t,n){var r=n.data,i=n.name;try{var s=i.split("."),o=s.slice(-1)[0].toLowerCase(),u=i.replace(o,""),a;$.each(parser.formats,function(e,t){if(t.testExtension(o)){a=t.convert;return!1}});if($.isFunction(a)){var f=r.replace(/^data:.*;base64,/,""),l=e.decode(f);parser.songList.push({name:u,data:a(l,u)})}else parser.errorList.push("The file <strong>"+i+"</strong> cannot be parsed because <strong>."+o.toUpperCase()+"</strong> files are not supported!")}catch(c){parser.errorList.push("There was an error reading the file <strong>"+i+"</strong>")}}function n(e){parser.songList.length&&parser.outputs[parser.outputFormat](e,parser.songList)}var e={decode:function(e){var t=window.atob(e);try{return decodeURIComponent(escape(t))}catch(n){return t}},encode:function(e){return window.btoa(unescape(encodeURIComponent(e)))}};return{utilities:e,parseFile:t,complete:n,outputFormat:null,displayError:null,songList:[],errorList:[],formats:{},outputs:{}}}();(function(e){function r(t,n,r,i){return function(s){n.push({name:t.name,size:t.size,type:t.type,lastModified:t.lastModifiedDate,data:s.target.result});n.length==r&&e.isFunction(i.onFileRead)&&i.onFileRead(n,i)}}function i(t,n,r){var i=t.target.result;i.length>1&&e.isFunction(r.onFileRead)&&r.onFileRead(i,n)}function s(e){e.stopPropagation();e.preventDefault()}var t=null;e.fn.fileDragAndDrop=function(t){if(e.isFunction(t)){var r={};r.onFileRead=t;t=r}return this.each(function(){var r=e(this),i=i=e.extend({},e.fn.fileDragAndDrop.defaults,t);i.addClassTo.length===0&&(i.addClassTo=r);this.addEventListener("dragenter",function(e){n._over(e,r,i)},!1);this.addEventListener("dragover",function(e){n._exit(e,r,i)},!1);this.addEventListener("drop",function(e){n._drop(e,r,i)},!1)})};e.fn.fileDragAndDrop.defaults={overClass:"over",addClassTo:e([]),onFileRead:null};var n={_over:function(t,n,r){e(r.addClassTo).addClass(r.overClass);s(t)},_exit:function(n,r,i){clearTimeout(t);t=setTimeout(function(){e(i.addClassTo).removeClass(i.overClass)},100);s(n)},_drop:function(t,n,i){e(i.addClassTo).removeClass(i.overClass);s(t);var o=t.dataTransfer.files,u=[];for(var a=0;a<=o.length;a++){var f=new FileReader,l=r(o[a],u,o.length,i);f.addEventListener?f.addEventListener("loadend",l,!1):f.onloadend=l;f.readAsDataURL(o[a])}}}})(jQuery);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){"use strict";var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=e.URL||e.webkitURL||e,i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,o=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null);n.dispatchEvent(r)},u=e.webkitRequestFileSystem,a=e.requestFileSystem||u||e.mozRequestFileSystem,f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",c=0,h=[],p=function(){var e=h.length;while(e--){var t=h[e];typeof t=="string"?r.revokeObjectURL(t):t.remove()}h.length=0},d=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var i=e["on"+t[r]];if(typeof i=="function")try{i.call(e,n||e)}catch(s){f(s)}}},v=function(t,r){var f=this,p=t.type,v=!1,m,g,y=function(){var e=n().createObjectURL(t);h.push(e);return e},b=function(){d(f,"writestart progress write writeend".split(" "))},w=function(){if(v||!m)m=y(t);g&&(g.location.href=m);f.readyState=f.DONE;b()},E=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},S={create:!0,exclusive:!1},x;f.readyState=f.INIT;r||(r="download");if(s){m=y(t);i.href=m;i.download=r;o(i);f.readyState=f.DONE;b();return}if(e.chrome&&p&&p!==l){x=t.slice||t.webkitSlice;t=x.call(t,0,t.size,l);v=!0}u&&r!=="download"&&(r+=".download");p===l||u?g=e:g=e.open();if(!a){w();return}c+=t.size;a(e.TEMPORARY,c,E(function(e){e.root.getDirectory("saved",S,E(function(e){var n=function(){e.getFile(r,S,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){g.location.href=e.toURL();h.push(e);f.readyState=f.DONE;d(f,"writeend",t)};n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()};"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=f["on"+e]});n.write(t);f.abort=function(){n.abort();f.readyState=f.DONE};f.readyState=f.WRITING}),w)}),w)};e.getFile(r,{create:!1},E(function(e){e.remove();n()}),E(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w)},m=v.prototype,g=function(e,t){return new v(e,t)};m.abort=function(){var e=this;e.readyState=e.DONE;d(e,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;e.addEventListener("unload",p,!1);return g}(self),JSZip=function(e,t){this.files={};this.root="";e&&this.load(e,t)};JSZip.signature={LOCAL_FILE_HEADER:"PK",CENTRAL_FILE_HEADER:"PK",CENTRAL_DIRECTORY_END:"PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"PK",ZIP64_CENTRAL_DIRECTORY_END:"PK",DATA_DESCRIPTOR:"PK\b"};JSZip.defaults={base64:!1,binary:!1,dir:!1,date:null,compression:null};JSZip.prototype=function(){var e=function(e,t,n){this.name=e;this.data=t;this.options=n};e.prototype={asText:function(){var e=this.data;if(e===null||typeof e=="undefined")return"";this.options.base64&&(e=JSZipBase64.decode(e));this.options.binary&&(e=JSZip.prototype.utf8decode(e));return e},asBinary:function(){var e=this.data;if(e===null||typeof e=="undefined")return"";this.options.base64&&(e=JSZipBase64.decode(e));this.options.binary||(e=JSZip.prototype.utf8encode(e));return e},asUint8Array:function(){return JSZip.utils.string2Uint8Array(this.asBinary())},asArrayBuffer:function(){return JSZip.utils.string2Uint8Array(this.asBinary()).buffer}};var t=function(e,t){var n="",r;for(r=0;r<t;r++){n+=String.fromCharCode(e&255);e>>>=8}return n},n=function(){var e={},t,n;for(t=0;t<arguments.length;t++)for(n in arguments[t])arguments[t].hasOwnProperty(n)&&typeof e[n]=="undefined"&&(e[n]=arguments[t][n]);return e},r=function(e){e=e||{};e.base64===!0&&e.binary==null&&(e.binary=!0);e=n(e,JSZip.defaults);e.date=e.date||new Date;e.compression!==null&&(e.compression=e.compression.toUpperCase());return e},i=function(t,n,i){var u=s(t);u&&o.call(this,u);i=r(i);if(i.dir||n===null||typeof n=="undefined"){i.base64=!1;i.binary=!1;n=null}else if(JSZip.support.uint8array&&n instanceof Uint8Array){i.base64=!1;i.binary=!0;n=JSZip.utils.uint8Array2String(n)}else if(JSZip.support.arraybuffer&&n instanceof ArrayBuffer){i.base64=!1;i.binary=!0;var a=new Uint8Array(n);n=JSZip.utils.uint8Array2String(a)}else if(i.binary&&!i.base64){i.optimizedBinaryString!==!0&&(n=JSZip.utils.string2binary(n));delete i.optimizedBinaryString}return this.files[t]=new e(t,n,i)},s=function(e){e.slice(-1)=="/"&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},o=function(e){e.slice(-1)!="/"&&(e+="/");if(!this.files[e]){var t=s(e);t&&o.call(this,t);i.call(this,e,null,{dir:!0})}return this.files[e]},u=function(e,n,r){var i=n!==e.name,s=e.asBinary(),o=e.options,u,a;u=o.date.getHours();u<<=6;u|=o.date.getMinutes();u<<=5;u|=o.date.getSeconds()/2;a=o.date.getFullYear()-1980;a<<=4;a|=o.date.getMonth()+1;a<<=5;a|=o.date.getDate();var f=s!==null&&s.length!==0;r=o.compression||r;if(!JSZip.compressions[r])throw r+" is not a valid compression method !";var l=JSZip.compressions[r],c=f?l.compress(s):"",h="";h+="\n\0";h+=i?"\0\b":"\0\0";h+=f?l.magic:JSZip.compressions.STORE.magic;h+=t(u,2);h+=t(a,2);h+=f?t(this.crc32(s),4):"\0\0\0\0";h+=f?t(c.length,4):"\0\0\0\0";h+=f?t(s.length,4):"\0\0\0\0";h+=t(n.length,2);h+="\0\0";return{header:h,compressedData:c}};return{load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var r=[],i,s,o,u;for(i in this.files){if(!this.files.hasOwnProperty(i))continue;o=this.files[i];u=new e(o.name,o.data,n(o.options));s=i.slice(this.root.length,i.length);i.slice(0,this.root.length)===this.root&&t(s,u)&&r.push(u)}return r},file:function(e,t,n){if(arguments.length===1){if(e instanceof RegExp){var r=e;return this.filter(function(e,t){return!t.options.dir&&r.test(e)})}return this.filter(function(t,n){return!n.options.dir&&t===e})[0]||null}e=this.root+e;i.call(this,e,t,n);return this},folder:function(e){if(!e)return this;if(e instanceof RegExp)return this.filter(function(t,n){return n.options.dir&&e.test(t)});var t=this.root+e,n=o.call(this,t),r=this.clone();r.root=n.name;return r},remove:function(e){e=this.root+e;var t=this.files[e];if(!t){e.slice(-1)!="/"&&(e+="/");t=this.files[e]}if(t)if(!t.options.dir)delete this.files[e];else{var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e});for(var r=0;r<n.length;r++)delete this.files[n[r].name]}return this},generate:function(e){e=n(e||{},{base64:!0,compression:"STORE",type:"base64"});var r=e.compression.toUpperCase();if(!JSZip.compressions[r])throw r+" is not a valid compression method !";var i=[],s=[],o=0;for(var a in this.files){if(!this.files.hasOwnProperty(a))continue;var f=this.files[a],l=this.utf8encode(f.name),c="",h="",p=u.call(this,f,l,r);c=JSZip.signature.LOCAL_FILE_HEADER+p.header+l+p.compressedData;h=JSZip.signature.CENTRAL_FILE_HEADER+"\0"+p.header+"\0\0"+"\0\0"+"\0\0"+(this.files[a].options.dir===!0?"\0\0\0":"\0\0\0\0")+t(o,4)+l;o+=c.length;s.push(c);i.push(h)}var d=s.join(""),v=i.join(""),m="";m=JSZip.signature.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+t(s.length,2)+t(s.length,2)+t(v.length,4)+t(d.length,4)+"\0\0";var g=d+v+m;switch(e.type.toLowerCase()){case"uint8array":return JSZip.utils.string2Uint8Array(g);case"arraybuffer":return JSZip.utils.string2Uint8Array(g).buffer;case"blob":return JSZip.utils.string2Blob(g);case"base64":return e.base64?JSZipBase64.encode(g):g;default:return g}},crc32:function(e,t){if(e===""||typeof e=="undefined")return 0;var n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof t=="undefined"&&(t=0);var r=0,i=0;t^=-1;for(var s=0,o=e.length;s<o;s++){i=(t^e.charCodeAt(s))&255;r=n[i];t=t>>>8^r}return t^-1},clone:function(){var e=new JSZip;for(var t in this)typeof this[t]!="function"&&(e[t]=this[t]);return e},utf8encode:function(e){var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128)t+=String.fromCharCode(r);else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},utf8decode:function(e){var t="",n=0,r=0,i=0,s=0,o=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){s=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|s&63);n+=2}else{s=e.charCodeAt(n+1);o=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63);n+=3}}return t}}}();JSZip.compressions={STORE:{magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e}}};JSZip.support={arraybuffer:function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"}(),uint8array:function(){return typeof Uint8Array!="undefined"}(),blob:function(){if(typeof ArrayBuffer=="undefined")return!1;var e=new ArrayBuffer(0);try{return(new Blob([e],{type:"application/zip"})).size===0}catch(t){}try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e);return n.getBlob("application/zip").size===0}catch(t){}return!1}()};JSZip.utils={string2binary:function(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)&255);return t},string2Uint8Array:function(e){if(!JSZip.support.uint8array)throw new Error("Uint8Array is not supported by this browser");var t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(var r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},uint8Array2String:function(e){if(!JSZip.support.uint8array)throw new Error("Uint8Array is not supported by this browser");var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},string2Blob:function(e){if(!JSZip.support.blob)throw new Error("Blob is not supported by this browser");var t=JSZip.utils.string2Uint8Array(e).buffer;try{return new Blob([t],{type:"application/zip"})}catch(n){}try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);r.append(t);return r.getBlob("application/zip")}catch(n){}throw new Error("Bug : can't construct the Blob.")}};var JSZipBase64=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t,n){var r="",i,s,o,u,a,f,l,c=0;while(c<t.length){i=t.charCodeAt(c++);s=t.charCodeAt(c++);o=t.charCodeAt(c++);u=i>>2;a=(i&3)<<4|s>>4;f=(s&15)<<2|o>>6;l=o&63;isNaN(s)?f=l=64:isNaN(o)&&(l=64);r=r+e.charAt(u)+e.charAt(a)+e.charAt(f)+e.charAt(l)}return r},decode:function(t,n){var r="",i,s,o,u,a,f,l,c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<t.length){u=e.indexOf(t.charAt(c++));a=e.indexOf(t.charAt(c++));f=e.indexOf(t.charAt(c++));l=e.indexOf(t.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;r+=String.fromCharCode(i);f!=64&&(r+=String.fromCharCode(s));l!=64&&(r+=String.fromCharCode(o))}return r}}}(),TextCleaner=function(){function s(e){var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16).toUpperCase();while(r.length<4)r="0"+r;r="\\u"+r;t+=r}return t}function o(e){return e.replace(i,function(e){var t=s(e);return n[t]||""})}var e=["\\u00E2\\u201A\\u00AC","\\u00C3\\u20AC","\\u00C3","\\u00E2\\u20AC\\u0161","\\u00C3\\u201A","\\u00C6\\u2019","\\u00C3\\u0192","\\u00E2\\u20AC\\u017E","\\u00C3\\u201E","\\u00E2\\u20AC\\u00A6","\\u00C3\\u2026","\\u00E2\\u20AC","\\u00C3\\u2020","\\u00E2\\u20AC\\u00A1","\\u00C3\\u2021","\\u00CB\\u2020","\\u00C3\\u02C6","\\u00E2\\u20AC\\u00B0","\\u00C3\\u2030","\\u00C5","\\u00C3\\u0160","\\u00E2\\u20AC\\u00B9","\\u00C3\\u2039","\\u00C5\\u2019","\\u00C3\\u0152","\\u00C3","\\u00C5\\u00BD","\\u00C3\\u017D","\\u00C3","\\u00C3","\\u00E2\\u20AC\\u02DC","\\u00C3\\u2018","\\u00E2\\u20AC\\u2122","\\u00C3\\u2019","\\u00E2\\u20AC\\u0153","\\u00C3\\u201C","\\u00E2\\u20AC","\\u00C3\\u201D","\\u00E2\\u20AC\\u00A2","\\u00C3\\u2022","\\u00E2\\u20AC\\u201C","\\u00C3\\u2013","\\u00E2\\u20AC\\u201D","\\u00C3\\u2014","\\u00CB\\u0153","\\u00C3\\u02DC","\\u00E2\\u201E\\u00A2","\\u00C3\\u2122","\\u00C5\\u00A1","\\u00C3\\u0161","\\u00E2\\u20AC\\u00BA","\\u00C3\\u203A","\\u00C5\\u201C","\\u00C3\\u0153","\\u00C3","\\u00C5\\u00BE","\\u00C3\\u017E","\\u00C5\\u00B8","\\u00C3\\u0178","\\u00C3","\\u00C2\\u00A1","\\u00C3\\u00A1","\\u00C2\\u00A2","\\u00C3\\u00A2","\\u00C2\\u00A3","\\u00C3\\u00A3","\\u00C2\\u00A4","\\u00C3\\u00A4","\\u00C2\\u00A5","\\u00C3\\u00A5","\\u00C2\\u00A6","\\u00C3\\u00A6","\\u00C2\\u00A7","\\u00C3\\u00A7","\\u00C2\\u00A8","\\u00C3\\u00A8","\\u00C2\\u00A9","\\u00C3\\u00A9","\\u00C2\\u00AA","\\u00C3\\u00AA","\\u00C2\\u00AB","\\u00C3\\u00AB","\\u00C2\\u00AC","\\u00C3\\u00AC","\\u00C2\\u00AD","\\u00C3\\u00AD","\\u00C2\\u00AE","\\u00C3\\u00AE","\\u00C2\\u00AF","\\u00C3\\u00AF","\\u00C2\\u00B0","\\u00C3\\u00B0","\\u00C2\\u00B1","\\u00C3\\u00B1","\\u00C2\\u00B2","\\u00C3\\u00B2","\\u00C2\\u00B3","\\u00C3\\u00B3","\\u00C2\\u00B4","\\u00C3\\u00B4","\\u00C2\\u00B5","\\u00C3\\u00B5","\\u00C2\\u00B6","\\u00C3\\u00B6","\\u00C2\\u00B7","\\u00C3\\u00B7","\\u00C2\\u00B8","\\u00C3\\u00B8","\\u00C2\\u00B9","\\u00C3\\u00B9","\\u00C2\\u00BA","\\u00C3\\u00BA","\\u00C2\\u00BB","\\u00C3\\u00BB","\\u00C2\\u00BC","\\u00C3\\u00BC","\\u00C2\\u00BD","\\u00C3\\u00BD","\\u00C2\\u00BE","\\u00C3\\u00BE","\\u00C2\\u00BF","\\u00C3\\u00BF"],t=["€","À","Á","‚","Â","ƒ","Ã","„","Ä","…","Å","†","Æ","‡","Ç","ˆ","È","‰","É","Š","Ê","‹","Ë","Œ","Ì","Í","Ž","Î","Ï","Ð","‘","Ñ","’","Ò","“","Ó","”","Ô","•","Õ","–","Ö","—","×","˜","Ø","™","Ù","š","Ú","›","Û","œ","Ü","Ý","ž","Þ","Ÿ","ß","à","¡","á","¢","â","£","ã","¤","ä","¥","å","¦","æ","§","ç","¨","è","©","é","ª","ê","«","ë","¬","ì","­","í","®","î","¯","ï","°","ð","±","ñ","²","ò","³","ó","´","ô","µ","õ","¶","ö","·","÷","¸","ø","¹","ù","º","ú","»","û","¼","ü","½","ý","¾","þ","¿","ÿ"],n={};for(var r=0;r<e.length;r++)n[e[r]]=t[r];e.sort(function(e,t){return t.length-e.length});var i=new RegExp(e.join("|"),"g");return{ConvertWin1252ToUtf8:o}}();(function(){function t(e){var t=[];e.each(function(e,n){var i=$(n),s=$.trim(i.attr("label")),o=i.find("rvtextelement").attr("rtfdata"),u=parser.utilities.decode(o),a=r(u);t.push({title:s,lyrics:a})});return t}function n(e){var t=["height","width","cclisongtitle","cclidisplay","versionnumber","doctype","creatorcode","lastdateused","usedcount","backgroundcolor","drawingbackgroundcolor"],n=[];$.each(e,function(e,r){$.inArray(r.name,t)<0&&r.value!==""&&n.push({name:r.name,value:r.value})});var r=new Date(Date.parse(e.lastdateused.value));isNaN(r.getTime())||n.push({name:"Last Used On",value:r});return n}function r(e){var t=/\{\*?\\[^{}]+}|[{}]|\\[A-Za-z]+\n?(?:-?\d+)?[ ]?/g,n=/\\\n/g,r=e.replace(t,""),i=r.replace(n,"\n"),s=i.trim();return s}var e="propresenter";parser.formats[e]={};parser.formats[e].testExtension=function(e){return/pro\d+/i.test(e)};parser.formats[e].convert=function(e,r){var i=$(e),s=i.get(0).attributes,o=i.children("slides").children(),u=typeof s.cclisongtitle=="string"&&s.cclisongtitle.length>0?s.cclisongtitle.value:r;return{title:u,info:n(s),slides:t(o)}}})();(function(){function r(e,t,r){var i=e.split(n);i=$.grep(i,function(e){var t=$.trim(e).replace(/\r\n\t/g,"");return t.length>1?t:!1});/[0-9]{1,4}/.test(i[0])&&i.splice(0,1);var s=i.length>0&&i[0].length>0?i[0]:r;s=s.indexOf("$")===1?s.substring(1,s.length):s;s=s.substring(0,s.length- +(s.lastIndexOf("$")==s.length-1));var o=[];i[1]&&o.push({name:"Artist/Author",value:i[1]});i[2]&&o.push({name:"Copyright",value:i[2].replace("$","")});i[3]&&o.push({name:"CCLI",value:i[3]});t&&o.push({name:"Keywords",value:t});s=TextCleaner.ConvertWin1252ToUtf8(s);for(var u=0;u<o.length;u++)o[u].value=TextCleaner.ConvertWin1252ToUtf8(o[u].value);return{info:o,title:s}}function i(e){var r=new RegExp("^"+t+"+.{1}"+t+"+(.+)"+t+"+\\W*([\\s\\S]+)","m"),i=[];for(var o=1;o<e.length;o++){var u=e[o].match(r),a=u!==null&&u[1]?$.trim(u[1].replace(n,"")):"",f=u!==null&&u[2]?$.trim(u[2].replace(n,"")):"";a=TextCleaner.ConvertWin1252ToUtf8(a);f=TextCleaner.ConvertWin1252ToUtf8(f);f=f.replace(/\/+/g,"");i.push({title:a,lyrics:f})}var l=s(e.slice(-1)[0]),c=!1;if(l)if(i.length===0&&l.keywords.length>l.lastLyrics.length){c=l.lastLyrics;i.push({title:"",lyrics:l.keywords.replace(/\/+/g,"")})}else{c=l.keywords;i.length>0?i.slice(-1)[0].lyrics=l.lastLyrics:i.push({title:"",lyrics:l.lastLyrics.replace(/\/+/g,"")})}return{slides:i,keywords:c}}function s(e){var t=e.split(n);t=$.grep(t,function(e){var t=$.trim(e);return t.length>1?t:!1});if(t.length>2){var r=t.splice(2).join(", ").replace(/\r\n\t/g,""),i=t[1].match(/^\W*([\s\S]+)/m)[1];r=TextCleaner.ConvertWin1252ToUtf8(r);i=TextCleaner.ConvertWin1252ToUtf8(i);return{keywords:r,lastLyrics:i}}return!1}var e="songshowplus";parser.formats[e]={};parser.formats[e].testExtension=function(e){return/sbsong/i.test(e)};parser.formats[e].convert=function(e,t){var n=e.split("<Properties>")[0].split("%"),s=i(n),o=r(n[0],s.keywords,t);return{title:o.title,info:o.info,slides:s.slides}};var t="[\\xA0\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F]",n=new RegExp(t)})();(function(){function n(e){var t=r(e);for(var n=0;n<e.slides.length;n++){var i=e.slides[n];t+=o(n,i.title,i.lyrics)}t+='</slides><timeline timeOffSet="0" selectedMediaTrackIndex="0" unitOfMeasure="60" duration="0" loop="0"><timeCues containerClass="NSMutableArray"></timeCues><mediaTracks containerClass="NSMutableArray"></mediaTracks></timeline><bibleReference containerClass="NSMutableDictionary"></bibleReference></RVPresentationDocument>';return t}function r(e){var t="",n="",r="",i="",s="",o="",u=new Date,a=u.getFullYear()+"-"+u.getMonth()+"-"+u.getDate()+"T"+u.getHours()+":"+u.getMinutes()+":"+u.getSeconds();for(var f=0;f<e.info.length;f++){var l=e.info[f];if(/copyright/i.test(l.name)){var c=l.value.match(/(\d{4})(.*)/);if(c){c.length>1&&(i=c[1]);c.length>2&&(s=c[2])}else s=l.value}else if(/ccli/i.test(l.name))o=l.value;else if(/keywords/i.test(l.name))t=l.value;else if(/author|artist/i.test(l.name)){n=l.value;r=l.value}}return'<RVPresentationDocument height="768" width="1024" versionNumber="400" docType="0" creatorCode="1349676880" lastDateUsed="'+a+'" usedCount="0" category="Song" resourcesDirectory="" backgroundColor="0 0 0 1" drawingBackgroundColor="0" notes="'+t+'" artist="'+n+'" author="'+r+'" album="" CCLIDisplay="0" CCLIArtistCredits="" CCLISongTitle="'+e.title+'" CCLIPublisher="'+s+'" CCLICopyrightInfo="'+i+'" CCLILicenseNumber="'+o+'"><slides containerClass="NSMutableArray">'}function i(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function s(e){return'<RVDisplaySlide backgroundColor="0 0 0 0" enabled="1" highlightColor="0 0 0 0" hotKey="" label="" notes="" slideType="1" sort_index="'+e+'" UUID="'+i()+'" drawingBackgroundColor="0" serialization-array-index="'+e+'"><cues containerClass="NSMutableArray"></cues><displayElements containerClass="NSMutableArray"></displayElements></RVDisplaySlide>'}function o(e,t,n){var r=["{\\rtf1\\ansi\\ansicpg1252\\cocoartf1038\\cocoasubrtf320","{\\fonttbl\\f0\\fswiss\\fcharset0 Helvetica;}","{\\colortbl;\\red255\\green255\\blue255;}","\\pard\\tx560\\tx1120\\tx1680\\tx2240\\tx2800\\tx3360\\tx3920\\tx4480\\tx5040\\tx5600\\tx6160\\tx6720\\qc\\pardirnatural","","\\f0\\fs96 \\cf1 "+n.replace(/\r\n/g,"\\\n")+"}"].join("\n"),s=parser.utilities.encode(r),o=["",'<RVDisplaySlide backgroundColor="0 0 0 0" enabled="1" highlightColor="0 0 0 0" hotKey="" label="'+t+'" notes="" slideType="1" sort_index="'+e+'" UUID="'+i()+'" drawingBackgroundColor="0" serialization-array-index="'+e+'">','	<cues containerClass="NSMutableArray"></cues>','	<displayElements containerClass="NSMutableArray">','		<RVTextElement displayDelay="0" displayName="Default" locked="0" persistent="0" typeID="0" fromTemplate="0" bezelRadius="0" drawingFill="0" drawingShadow="0" drawingStroke="0" fillColor="1 1 1 1" rotation="0" source="" adjustsHeightToFit="0" verticalAlignment="0" RTFData="'+s+'" serialization-array-index="0">','			<_-RVRect3D-_position x="20" y="20" z="0" width="984" height="728"></_-RVRect3D-_position>','			<_-D-_serializedShadow containerClass="NSMutableDictionary">','				<NSCFNumber serialization-native-value="5" serialization-dictionary-key="shadowBlurRadius"></NSCFNumber>','				<NSCalibratedRGBColor serialization-native-value="0 0 0 0.5" serialization-dictionary-key="shadowColor"></NSCalibratedRGBColor>','				<NSCFString serialization-native-value="{3.53553, -3.53553}" serialization-dictionary-key="shadowOffset"></NSCFString>',"			</_-D-_serializedShadow>",'			<stroke containerClass="NSMutableDictionary">','				<NSCachedRGBColor serialization-native-value="0 0 0 1" serialization-dictionary-key="RVShapeElementStrokeColorKey"></NSCachedRGBColor>','				<NSCFNumber serialization-native-value="1" serialization-dictionary-key="RVShapeElementStrokeWidthKey"></NSCFNumber>',"			</stroke>","		</RVTextElement>","	</displayElements>","</RVDisplaySlide>"].join("\n");return o}function u(n,r){if(r.length>0){var i="btn-"+e+"-download-zip",s="btn-"+e+"-download-files",o="<h1>Converted "+r.length+" Song File"+(r.length>1?"s":"")+"!</h1>";if(r.length>1){o+="<button id='"+i+"' type='button' class='btn btn-large btn-primary'>Download as .zip</button>";o+=" or <button id='"+s+"' type='button' class='btn'>Download "+r.length+" individual files</button>"}else o+="<button id='"+s+"' type='button' class='btn btn-large btn-primary'>Download file</button>";n.html(o);$("#"+i).on("click",function(){var e=new JSZip;$.each(r,function(n,r){e.file(r.name+t,r.data)});var n=e.generate({type:"blob"});saveAs(n,"converted files.zip")});$("#"+s).on("click",function(){$.each(r,function(e,n){var r=new Blob([n.data],{type:"text/xml;charset=utf-8"});saveAs(r,n.name+t)})})}}var e="propresenter",t=".pro4";parser.outputs[e]=function(e,t){var r=[],i=[];$.each(t,function(e,t){try{r.push({name:t.name,data:n(t.data)})}catch(s){i.push(t.name)}});i.length&&parser.displayError(i.join(", "),"Error converting the following "+i.length+" songs!");u(e,r)}})();(function(){function t(e){var t='<h3 class="song-title">'+e.title+"</h3>";t+='<ul class="song-info">';for(var n=0;n<e.info.length;n++){var r=e.info[n];t+="<li><strong>"+r.name+":</strong> "+r.value+"</li>"}t+='</ul><ul class="slides-container thumbnails">';for(var n=0;n<e.slides.length;n++){var r=e.slides[n],i=r.title.length<1?"&nbsp;":r.title;t+='<li class="span3"><div class="thumbnail slide-content"><p class="slide-lyrics">'+r.lyrics+'</p><h6 class="slide-label">'+i+"</h6></div></li>"}t+="</ul>";return t}function n(e){var t=0;e.find(".slide-lyrics").each(function(e){$(this).height()>t&&(t=$(this).height())}).css({"min-height":t})}var e="display";parser.outputs[e]=function(e,r){$.each(r,function(r,i){var s=$(t(i.data));e.append(s);n(s)})}})();(function(){function n(e){var t="Title: "+e.title;for(var n=0;n<e.info.length;n++){var r=e.info[n];if(r.name&&r.value){t+="\r\n";t+=r.name+": "+r.value}}t+="\r\n\r\n";for(var n=0;n<e.slides.length;n++){var i=e.slides[n];if(i.title.length>0||i.lyrics.length>0){t+=i.title;t+="\r\n";t+=i.lyrics;n<e.slides.length-1&&(t+="\r\n\r\n")}}return t}function r(n,r){if(r.length>0){var i="btn-"+e+"-download-zip",s="btn-"+e+"-download-files",o="<h1>Converted "+r.length+" Song File"+(r.length>1?"s":"")+"!</h1>";if(r.length>1){o+="<button id='"+i+"' type='button' class='btn btn-large btn-primary'>Download as .zip</button>";o+=" or <button id='"+s+"' type='button' class='btn'>Download "+r.length+" individual files</button>"}else o+="<button id='"+s+"' type='button' class='btn btn-large btn-primary'>Download file</button>";n.html(o);$("#"+i).on("click",function(){var e=new JSZip;$.each(r,function(n,r){e.file(r.name+t,r.data)});var n=e.generate({type:"blob"});saveAs(n,"converted files.zip")});$("#"+s).on("click",function(){$.each(r,function(e,n){var r=new Blob([n.data],{type:"text/xml;charset=utf-8"});saveAs(r,n.name+t)})})}}var e="text",t=".txt";parser.outputs[e]=function(e,t){var i=[],s=[];$.each(t,function(e,t){try{i.push({name:t.name,data:n(t.data)})}catch(r){s.push(t.name)}});s.length&&parser.displayError(s.join(", "),"Error converting the following "+s.length+" songs!");r(e,i)}})();