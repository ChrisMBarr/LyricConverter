!function($){"use strict";function e(e,n,t,a){return function(r){n.push({name:e.name,size:e.size,type:e.type,lastModified:e.lastModifiedDate,data:r.target.result}),n.length===t&&$.isFunction(a.onFileRead)&&a.onFileRead(n,a)}}function n(e){e.stopPropagation(),e.preventDefault()}var t=null;$.fn.fileDragAndDrop=function(e){if($.isFunction(e)){var n={};n.onFileRead=e,e=n}return this.each(function(){var n=$(this),t=$.extend({},$.fn.fileDragAndDrop.defaults,e);0===t.addClassTo.length&&(t.addClassTo=n),this.addEventListener("dragenter",function(e){a._over(e,n,t)},!1),this.addEventListener("dragover",function(e){a._exit(e,n,t)},!1),this.addEventListener("drop",function(e){a._drop(e,n,t)},!1)})},$.fn.fileDragAndDrop.defaults={overClass:"over",addClassTo:$([]),onFileRead:null};var a={_over:function(e,t,a){$(a.addClassTo).addClass(a.overClass),n(e)},_exit:function(e,a,r){clearTimeout(t),t=setTimeout(function(){$(r.addClassTo).removeClass(r.overClass)},100),n(e)},_drop:function(t,a,r){$(r.addClassTo).removeClass(r.overClass),n(t);for(var o=t.dataTransfer.files,s=[],i=0;i<=o.length-1;i++){var d=new FileReader,l=e(o[i],s,o.length,r);d.addEventListener?d.addEventListener("loadend",l,!1):d.onloadend=l,d.readAsDataURL(o[i])}}}}(jQuery),function(){function e(e,n){var t=['<div style="width: 90%; margin-left: -45%;" class="modal" tabindex="-1" role="dialog" aria-labelledby="unsupportedModalLabel" aria-hidden="true">','   <div class="modal-header">','       <h2 id="unsupportedModalLabel" class="text-error">'+e+"</h2>","   </div>",'   <div class="modal-body">','       <p style="font-size:22x;">'+n+"</p>","   </div>","</div>"].join("");Modernizr.load({test:$.fn.modal,load:["scripts/bootstrap/bootstrap-modal.js","styles/bootstrap-assets/modals.css"],complete:function(){$(t).modal({keyboard:!1,backdrop:"static"})}})}function n(){w=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile|Windows Phone|Zune/i.test(navigator.userAgent),w&&e("Unsupported Device!","Sorry, LyricConverter cannot be used on mobile devices!<br/><br/>Please use a desktop computer that supports file uploads and downloads.")}function t(){Modernizr.load({test:window.atob&&window.btoa,nope:"scripts/plugins/base64.js"}),Modernizr.draganddrop&&window.FileReader?d():e("Unsupported Browser!","Sorry, you won't be able to use LyricConverter because your browser does not support file drag-n-drop!<br/><br/>Try using a modern browser like <a href='www.google.com/chrome'>Google Chrome</a> instead!")}function a(){f=$("#header"),v=$("#main"),h=$("#begin-area"),g=$("#display-area"),b=$("#drop-area-more"),m=$("#output"),y=$("#parser-error-display"),D=$("#many-songs-please-donate"),L=$("#total-song-count")}function r(){function e(a){var r=Math.floor(Math.random()*n)+1,o=f.css("background-image"),s=o.match(t);if(a&&r===parseInt(s[1],10))return void e(!0);var i=o.replace(s[0],"header-"+r+".jpg");f.css("background-image",i)}var n=8,t=/header-(\d+)\.jpg/;e(!1),f.on("click",function(n){"A"!==n.target.tagName&&e(!0)})}function o(){var e=$(window),n=2.4,t=350,a=20,r=-(t-f.outerHeight());e.on("scroll",function(){var t=-(e.scrollTop()/n)-a;r>=t?t=r:t>=0&&(t=0);var o="50% "+t+"px";f.css("backgroundPosition",o)})}function s(){var e="active",n=v.children(".js-main-section"),t=$("#js-convert-types a");$("#main-nav").children("a").on("click",function(t){var a=$(this),r=a.attr("href").replace("#","");a.addClass(e).siblings().removeClass(e),n.addClass("hidden"),$("#"+r).removeClass("hidden"),t.preventDefault()}),t.on("click",function(n){var t=$(this);t.addClass(e).siblings().removeClass(e);var a=t.data("format");parser.outputFormat=a,A._create(_,a,T),n.preventDefault()});var a=A._read(_),r=$([]);null!==a&&(r=t.filter('[data-format="'+a+'"]')),0===r.length&&(r=t.first()),r.triggerHandler("click")}function i(){M=parseInt(A._read(x)),isNaN(M)&&(M=0,A._create(x,M,T)),$("#donate-nag-no-thanks").one("click",function(){k=!1,D.addClass("hidden")})}function d(){parser.displayError=u,parser.displaySuccessHtml=p,$("html").fileDragAndDrop(function(e){if(c(),parser.errorList=[],parser.songList=[],$.each(e,parser.parseFile),parser.complete(m),l(parser.songList.length),parser.errorList.length){var n=1===parser.errorList.length?"One song ran into an error and could not be converted":"We ran into errors with "+parser.errorList.length+" of the songs, and they were not converted";u(parser.errorList.join("<br/>"),n)}})}function l(e){M+=e,A._create(x,M,T),k&&M>C&&(D.removeClass("hidden"),$("#total-song-count").text(M))}function c(){h.addClass("hidden"),g.removeClass("hidden"),b.removeClass("hidden"),m.empty(),y.empty().addClass("hidden")}function u(e,n){var t="";n&&n.length&&(t+="<h3>"+n+"</h3>"),t+="<p>"+e+"</p>",y.removeClass("hidden").html(t)}function p(e,n,t){if(e.length>0){var a="btn-"+n+"-download-zip",r="btn-"+n+"-download-files",o="<h1>Converted "+e.length+" Song File"+(e.length>1?"s":"")+"!</h1>";e.length>1?(o+="<button id='"+a+"' type='button' class='btn btn-lg btn-primary'>Download as .zip</button>",o+=" or <button id='"+r+"' type='button' class='btn btn-default'>Download "+e.length+" individual files</button>"):o+="<button id='"+r+"' type='button' class='btn btn-lg btn-primary'>Download file</button>",m.html(o),$("#"+a).on("click",function(){var n=new JSZip;$.each(e,function(e,a){n.file(a.name+t,a.data)});var a=n.generate({type:"blob"});saveAs(a,"converted files.zip")}),$("#"+r).on("click",function(){$.each(e,function(e,n){var a=new Blob([n.data],{type:"text/xml;charset=utf-8"});saveAs(a,n.name+t)})})}}var f,v,h,g,b,m,y,w=!1,C=100,k=!0,D,L,T=365,_="last-used-format",x="total-converted-song-count",M=0;$(function(){a(),n(),w||(r(),o(),s(),t(),i())});var A={_create:function(e,n,t){var a="";if(t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),a="; expires="+r.toGMTString()}document.cookie=e+"="+n+a+"; path=/"},_read:function(e){for(var n=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var r=t[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null}}}();
//# sourceMappingURL=./site-min.js.map