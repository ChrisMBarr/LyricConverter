!function($){"use strict";function e(e,n,t,r){return function(a){n.push({name:e.name,size:e.size,type:e.type,lastModified:e.lastModifiedDate,data:a.target.result}),n.length===t&&$.isFunction(r.onFileRead)&&r.onFileRead(n,r)}}function n(e){e.stopPropagation(),e.preventDefault()}var t=null;$.fn.fileDragAndDrop=function(e){if($.isFunction(e)){var n={};n.onFileRead=e,e=n}return this.each(function(){var n=$(this),t=$.extend({},$.fn.fileDragAndDrop.defaults,e);0===t.addClassTo.length&&(t.addClassTo=n),this.addEventListener("dragenter",function(e){r._over(e,n,t)},!1),this.addEventListener("dragover",function(e){r._exit(e,n,t)},!1),this.addEventListener("drop",function(e){r._drop(e,n,t)},!1)})},$.fn.fileDragAndDrop.defaults={overClass:"over",addClassTo:$([]),onFileRead:null};var r={_over:function(e,t,r){$(r.addClassTo).addClass(r.overClass),n(e)},_exit:function(e,r,a){clearTimeout(t),t=setTimeout(function(){$(a.addClassTo).removeClass(a.overClass)},100),n(e)},_drop:function(t,r,a){$(a.addClassTo).removeClass(a.overClass),n(t);for(var o=t.dataTransfer.files,s=[],i=0;i<=o.length-1;i++){var d=new FileReader,l=e(o[i],s,o.length,a);d.addEventListener?d.addEventListener("loadend",l,!1):d.onloadend=l,d.readAsDataURL(o[i])}}}}(jQuery);var isDev=/\.local|localhost/i.test(document.location.hostname);!function(){function e(e,n){$("#section-convert").children().hide().end().append('<div class="alert alert-danger"><h2>'+e+'</h2><p style="font-size:22x;">'+n+"</p></div>")}function n(){C=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile|Windows Phone|Zune/i.test(navigator.userAgent),C&&e("Unsupported Device!","Sorry, LyricConverter cannot be used on mobile devices!<br/><br/>Please use a desktop computer that supports file uploads and downloads.")}function t(){Modernizr.load({test:window.atob&&window.btoa,nope:"scripts/plugins/base64.js"}),Modernizr.draganddrop&&window.FileReader?d():e("Unsupported Browser!","Sorry, you won't be able to use LyricConverter because your browser does not support file drag-n-drop!<br/><br/>Try using a modern browser like <a href='www.google.com/chrome'>Google Chrome</a> instead!")}function r(){v=$("#header"),f=$("#main"),h=$("#begin-area"),g=$("#display-area"),m=$("#drop-area-more"),b=$("#output"),y=$("#parser-error-display"),L=$("#many-songs-please-donate"),k=$("#total-song-count")}function a(){function e(r){var a=Math.floor(Math.random()*n)+1,o=v.css("background-image"),s=o.match(t);if(r&&a===parseInt(s[1],10))return void e(!0);var i=o.replace(s[0],"header-"+a+".jpg");v.css("background-image",i)}var n=8,t=/header-(\d+)\.jpg/;e(!1),v.on("click",function(n){"A"!==n.target.tagName&&e(!0)})}function o(){var e=$(window),n=2.4,t=350,r=20,a=-(t-v.outerHeight());e.on("scroll",function(){var t=-(e.scrollTop()/n)-r;a>=t?t=a:t>=0&&(t=0);var o="50% "+t+"px";v.css("backgroundPosition",o)})}function s(){var e="active",n=f.children(".js-main-section"),t=$("#js-convert-types a");$("#main-nav").children("a").on("click",function(t){var r=$(this),a=r.attr("href").replace("#","");r.addClass(e).siblings().removeClass(e),n.addClass("hidden"),$("#"+a).removeClass("hidden"),t.preventDefault()}),t.on("click",function(n){var t=$(this);t.addClass(e).siblings().removeClass(e);var r=t.data("format");parser.outputFormat=r,x._create(A,r,T),n.preventDefault()});var r=x._read(A),a=$([]);null!==r&&(a=t.filter('[data-format="'+r+'"]')),0===a.length&&(a=t.first()),a.triggerHandler("click")}function i(){_=parseInt(x._read(F)),isNaN(_)&&(_=0,x._create(F,_,T)),$("#donate-nag-no-thanks").one("click",function(){D=!1,L.addClass("hidden")})}function d(){parser.displayError=u,parser.displaySuccessHtml=p,$("html").fileDragAndDrop(function(e){if(c(),parser.errorList=[],parser.songList=[],$.each(e,parser.parseFile),parser.complete(b),l(parser.songList.length),parser.errorList.length){var n=1===parser.errorList.length?"One song ran into an error and could not be converted":"We ran into errors with "+parser.errorList.length+" of the songs, and they were not converted";u(parser.errorList.join("<br/>"),n),isDev||ga("send",{hitType:"event",eventCategory:"convert songs",eventAction:parser.errorList.length+" errors",eventLabel:parser.outputFormat,eventValue:parser.songList.length})}else isDev||ga("send",{hitType:"event",eventCategory:"convert songs",eventAction:"success",eventLabel:parser.outputFormat,eventValue:parser.songList.length})})}function l(e){_+=e,x._create(F,_,T),D&&_>w&&(L.removeClass("hidden"),$("#total-song-count").text(_))}function c(){h.addClass("hidden"),g.removeClass("hidden"),m.removeClass("hidden"),b.empty(),y.empty().addClass("hidden")}function u(e,n){var t="";n&&n.length&&(t+="<h4>"+n+"</h4>"),t+="<p>"+e+"</p>",y.removeClass("hidden").html(t)}function p(e,n,t){if(e.length>0){var r="btn-"+n+"-download-zip",a="btn-"+n+"-download-files",o="<h1>Converted "+e.length+" Song File"+(e.length>1?"s":"")+"!</h1>";e.length>1?(o+="<button id='"+r+"' type='button' class='btn btn-lg btn-primary'>Download as .zip</button>",o+=" or <button id='"+a+"' type='button' class='btn btn-default'>Download "+e.length+" individual files</button>"):o+="<button id='"+a+"' type='button' class='btn btn-lg btn-primary'>Download file</button>",b.html(o),$("#"+r).on("click",function(){var n=new JSZip;$.each(e,function(e,r){n.file(r.name+t,r.data)});var r=n.generate({type:"blob"});saveAs(r,"converted files.zip")}),$("#"+a).on("click",function(){$.each(e,function(e,n){var r=new Blob([n.data],{type:"text/xml;charset=utf-8"});saveAs(r,n.name+t)})})}}var v,f,h,g,m,b,y,C=!1,w=100,D=!0,L,k,T=365,A="last-used-format",F="total-converted-song-count",_=0;$(function(){r(),n(),C||(a(),o(),s(),t(),i())});var x={_create:function(e,n,t){var r="";if(t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3),r="; expires="+a.toGMTString()}document.cookie=e+"="+n+r+"; path=/"},_read:function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null}}}();
//# sourceMappingURL=./site-min.js.map